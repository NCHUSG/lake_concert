<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>興大湖畔音樂季</title>
		<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/semantic-ui/1.2.0/semantic.min.css">
		<link rel="stylesheet" href="site.css">
	</head>
	<body>
		<div id="bg" class="background frame">
			<img class="visible no md bg" src="http://i.imgur.com/cXPLRmEl.gif" alt="">
			<video class="visible on md bg" poster="//i.imgur.com/V1T7HZKh.jpg" preload="auto" autoplay="autoplay" muted="muted" loop="loop" webkit-playsinline="">
				<source src="//i.imgur.com/V1T7HZK.webm" type="video/webm">
				<source src="//i.imgur.com/V1T7HZK.mp4" type="video/mp4">
				<object class="bg" type="application/x-shockwave-flash" data="//s.imgur.com/include/flash/gifplayer.swf?imgur_video=http://i.imgur.com/V1T7HZK.mp4&amp;imgur_width=1280&amp;imgur_height=720&amp;imgur_url=">
				<param name="movie" value="//s.imgur.com/include/flash/gifplayer.swf?imgur_video=http://i.imgur.com/V1T7HZK.mp4&amp;imgur_width=1280&amp;imgur_height=720">
				<param name="allowscriptaccess" value="never">
				<param name="flashvars" value="height=720&amp;width=1280">
				<param name="width" value="1280">
				<param name="height" value="720">
				<param name="version" value="0">
				<param name="scale" value="scale">
				<param name="salign" value="tl">
				<param name="wmode" value="opaque">
				</object>
			</video>
			<video class="visible on lg bg" poster="//i.imgur.com/cXPLRmEh.jpg" preload="auto" autoplay="autoplay" muted="muted" loop="loop" webkit-playsinline="">
				<source src="//i.imgur.com/cXPLRmE.webm" type="video/webm">
				<source src="//i.imgur.com/cXPLRmE.mp4" type="video/mp4">
				<object class="bg" type="application/x-shockwave-flash" data="//s.imgur.com/include/flash/gifplayer.swf?imgur_video=http://i.imgur.com/cXPLRmE.mp4&amp;imgur_width=1920&amp;imgur_height=1080&amp;imgur_url=">
				<param name="movie" value="//s.imgur.com/include/flash/gifplayer.swf?imgur_video=http://i.imgur.com/cXPLRmE.mp4&amp;imgur_width=1920&amp;imgur_height=1080">
				<param name="allowscriptaccess" value="never">
				<param name="flashvars" value="height=1080&amp;width=1920">
				<param name="width" value="1920">
				<param name="height" value="1080">
				<param name="version" value="0">
				<param name="scale" value="scale">
				<param name="salign" value="tl">
				<param name="wmode" value="opaque">
				</object>
			</video>
		</div>
		<div id="filter" class="filter frame"></div>
		<div class="frame curtain">
			<div id="index" class="masthead index viewport-height stripe">
				<div class="ui page grid">
					<div class="column">
						<h1 class="ui center aligned massive header">
						興大湖畔音樂季
						</h1>
					</div>
				</div>
				<div class="long stripe"></div>
				<div class="ui page three column grid">
					<div class="column">
						<h2 class="ui icon centerized header">
							<i class="music icon"></i>
							<div class="content">
								音樂季
							<div class="sub header">演出時間表</div>
							</div>
						</h2>
					</div>
					<div class="column">
						<h2 class="ui icon centerized header">
							<i class="photo icon"></i>
							<div class="content">
								你我的大學回憶展覽
							<div class="sub header">徵圖/文活動現正進行中！</div>
							</div>
						</h2>
					</div>
					<div class="column">
						<h2 class="ui icon centerized header">
							<i class="tree icon"></i>
							<div class="content">
								湖畔小攤
							<div class="sub header">來看看有啥小東西</div>
							</div>
						</h2>
					</div>
				</div>
			</div>
			<div id="des" class="masthead descript viewport-height stripe">
				<h3 class="ui center aligned header">十八歲，你還怎麼青澀；貳拾貳，你又怎麼成熟</h3>
				<h3 class="ui center aligned header">在無數次邁向下一個階段，我們留下的腳印或回憶，仍光輝閃爍</h3>
				<h3 class="ui center aligned header">只是隨著太陽月亮，它們總會黯淡…</h3>
				<h3 class="ui center aligned header"></h3>
				<h3 class="ui center aligned header">或者我們收集起來，並寫下每一秒鐘的故事</h3>
				<h3 class="ui center aligned header">告訴所有人：我們曾經勇敢，曾經美麗；我們走過悲傷，也擁抱過笑容</h3>
				<h3 class="ui center aligned header">讓青春回憶如繁星，永恆</h3>
			</div>
			<div id="recruit" class="masthead memory viewport-height stripe">
				<div class="ui page two column middle aligned relaxed fitted stackable grid">
					<div class="column">
						<h2 class="ui icon centerized header">
							<i class="photo icon"></i>
							<div class="content">
								你我的大學回憶展覽
							</div>
						</h2>
						<h3 class="ui center aligned header">我們把腳印收集起來，寫下每一刻的故事</h3>
						<h3 class="ui center aligned header">告訴所有人：我們曾經勇敢，曾經美麗；</h3>
						<h3 class="ui center aligned header">我們走過悲傷，也擁抱過笑容</h3>
						<h3 class="ui center aligned header">讓青春回憶如繁星，永恆</h3>
					</div>
					<div class="column">
						<h3 class="ui center aligned header">徵圖/文活動現正進行中！</h3>
						<h4 class="ui center aligned header">
							把你/妳大一到大四值得紀念的相片找出來，<br>
							寫下屬於你/妳的一句話，和中興同學一同分享，<br>
							給自己一次勇敢的機會，也讓所有人知道你/妳的美麗！<br>
						</h4>
						<form id="recruit-form" action="upload.php" method="POST">
							<div class="ui centerized massive transparent recruit underlined input">
							  <input name="name" placeholder="你/妳的名字..." type="text">
							</div>
							<div class="ui centerized massive transparent recruit underlined input">
							  <input name="email" placeholder="你/妳的信箱..." type="email">
							</div>
							<div class="ui centerized massive transparent recruit underlined input">
							  <input name="des" placeholder="一段說明文字..." type="text">
							</div>
							<input id="uploaded-href" type="hidden" name="img">
						</form>
							<div class="ui centerized orange inverted recruit segment">
								<div id="shown-has-img">
									<a id="img-preview" href="" class="ui fluid button" target="_blank">按我預覽</a>
									<div id="submit" class="fluid positive ui button">送出，和大家分享你的回憶！</div>
								</div>
								<p id="uploader-des" class="centerAligned">把你想和大家分享的圖片拖曳至此或按下鈕選擇</p>
								<input id="uploader" type="file" class="ui fluid button"></input>
								<div id="upload-dimer" class="ui dimmer">
									<div class="ui loader"></div>
								</div>
							</div>
					</div>
				</div>
			</div>
			<div id="concert" class="masthead viewport-height stripe">
				<h2 class="ui icon centerized header">
					<i class="music icon"></i>
					<div class="content">
						音樂季
					<div class="sub header">演出時間表</div>
					</div>
				</h2>
				<h1 class="ui center aligned massive header">
				敬請期待...
				</h1>
			</div>
			<div id="vender" class="masthead viewport-height stripe">
				<h2 class="ui icon centerized header">
					<i class="tree icon"></i>
					<div class="content">
						湖畔小攤
					<div class="sub header">來看看有啥小東西</div>
					</div>
				</h2>
				<h1 class="ui center aligned massive header">
				敬請期待...
				</h1>
			</div>
			<div id="footer" class="masthead footer short stripe">
				<h1 class="ui center aligned header">
				國立中興大學學生會
				</h1>
			</div>
		</div>
		<script type="text/javascript" src="//code.jquery.com/jquery-1.11.0.min.js"></script>
		<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/semantic-ui/1.2.0/semantic.min.js"></script>
		<script>
			jQuery(function(){
				// filter bg transition
				var refresh_inteval = false;
				function change_bg(){
					if(!refresh_inteval){
						if($(document).scrollTop() > $('#vender').position().top - $(window).height()/2)
							$("#filter").attr("class",'filter vender frame');
						else if($(document).scrollTop() > $('#concert').position().top - $(window).height()/2)
							$("#filter").attr("class",'filter concert frame');
						else if($(document).scrollTop() > $('#recruit').position().top - $(window).height()/2)
							$("#filter").attr("class",'filter recruit-bg frame');
						else if($(document).scrollTop() > $('#des').position().top - $(window).height()/2)
							$("#filter").attr("class",'filter des frame');
						else
							$("#filter").attr("class",'filter frame');
					}
					refresh_inteval = setTimeout(function(){
					    refresh_inteval = false;
					},200);
				}
				$(window).scroll(change_bg);
				change_bg();

				// uploader
				function upload(file) { // Copied from https://github.com/paulrouget/miniuploader
					if (!file || !file.type.match(/image.*/)) return;
					$("#upload-dimer").addClass("active");
					var fd = new FormData();
					fd.append("image", file);
					var xhr = new XMLHttpRequest();
					xhr.open("POST", "https://api.imgur.com/3/image.json");
					xhr.onload = function() {
						var link = JSON.parse(xhr.responseText).data.link;
						$("#uploaded-href").attr("value",link);
						$("#upload-dimer").removeClass("active");
						$("#img-preview").attr("href",link);
						$("#shown-has-img").slideDown();
						$("#uploader-des").slideUp();
					};
					xhr.setRequestHeader('Authorization', 'Client-ID 4b9752a7616a955');
					// Get your own key http://api.imgur.com/
					xhr.send(fd);
				}
				
				window.ondragover = function(e) { e.preventDefault(); };
				window.ondrop = function(e) { e.preventDefault(); upload(e.dataTransfer.files[0]); };
				$("#uploader").change(function(){
					upload(this.files[0]);
				});

				// submit
				$("#submit").click(function(){
					var data = $("#recruit-form").serializeArray();
					console.log(data);
				});
			});
		</script>
	</body>
</html>
